# KISS
## Description
Knowledge Integration System Service (KISS) is novel approach to
detect and mitigate malicious attacks on Machine Learning with
Integrated Network (MLIN) systems. Unlike existing methods,
KISS examines how attacks on individual components impact
the overall system performance. Here we consider how to detect potential attacks if we observe a performance drop of a cloud-based object detection service. We consider the performance of the ML service itself as well as the security of network that transmits data.

What this code does is:
### 1. Runs object detection using YOLO and writes a performance log
### 2. Parses the performance log of object detection. If the detection performance is below a certain threshold, there could be a potential adversarial attack
### 3. If any alerts were generated by IDS/IPS system, those alerts are also parsed
### 4. For any network attack alerts with known DoS signatures, we query the MITRE ATT&CK database for potential mitigations and provide them as output
### 5. If no alerts were generated, but the performance still dropped, there is probably an adversarial attack on the ML service.

## Installation
To install, run
 pip install -r requirements. txt
 which gets all the libraries

 Then, get the attack_mitigations file:
 wget https://raw.githubusercontent.com/mitre/cti/master/enterprise-attack/enterprise-attack.json

## Usage
Run the main file
python3 main.py <image_dir> <path_to_alerts>

There is a small image directory /images and some alert files in /snort_alerts
### Example Usage
python3 main.py images snort_alerts/alert.4

## Tests
To test, you can run with different alert files and image files if you have 416x416 pixel images

python3 main.py images snort_alerts/alert.1
python3 main.py images snort_alerts/alert.2
python3 main.py images snort_alerts/alert.3
python3 main.py images snort_alerts/alert.4

## Multi-threading implementation
There is a multithreaded implementation of reading a json file in detect_log_parser.py, but because the process is heavily I/O bound there is no real gain in performance. 
